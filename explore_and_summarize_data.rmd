---
output:
  html_document: default
  pdf_document: default
---
# Exploring White Wine Quality by Ursula Neumann
========================================================

> **Tip**: You will see quoted sections like this throughout the template to
help you construct your report. Make sure that you remove these notes before
you finish and submit your project!

> **Tip**: One of the requirements of this project is that your code follows
good formatting techniques, including limiting your lines to 80 characters or
less. If you're using RStudio, go into Preferences \> Code \> Display to set up
a margin line to help you keep track of this guideline!

```{r echo=FALSE, message=FALSE, warning=FALSE, packages}
# Load all of the packages that you end up using in your analysis in this code
# chunk.

# Notice that the parameter "echo" was set to FALSE for this code chunk. This
# prevents the code from displaying in the knitted HTML output. You should set
# echo=FALSE for all code chunks in your file, unless it makes sense for your
# report to show the code that generated a particular plot.

# The other parameters for "message" and "warning" should also be set to FALSE
# for other code chunks once you have verified that each plot comes out as you
# want it to. This will clean up the flow of your report.

library(ggplot2)
```

```{r echo=FALSE, Load_the_Data}
# Load the data
df <- read.csv('white_wine_quality.csv', check.names = FALSE, row.names = 1)
head(df)
```

> **Tip**: Before you create any plots, it is a good idea to provide a short
introduction into the dataset that you are planning to explore. Replace this
quoted text with that general information!

# Introduction
This dataset, originally described by 
[Cortez et al. 2009](https://www.sciencedirect.com/science/article/pii/S0167923609001377) 
contains 4,898 white wines with 11 variables quantifying the chemical 
properties of each wine. At least 3 wine experts rated the quality of each 
wine, providing a rating between 0 (very bad) and 10 (very excellent).
[This link](https://s3.amazonaws.com/udacity-hosted-downloads/ud651/wineQualityInfo.txt)
describes of the variables and how the data was collected.  I am interested in
investigating which chemical properties influence the quality of white wines.

# Univariate Plots Section

> **Tip**: In this section, you should perform some preliminary exploration of
your dataset. Run some summaries of the data and create univariate plots to
understand the structure of the individual variables in your dataset. Don't
forget to add a comment after each plot or closely-related group of plots!
There should be multiple code chunks and text sections; the first one below is
just to help you get started.

```{r echo=FALSE, Univariate_Plots}
# Determine the dimensions of the dataset
dim(df)
```

As expected there are 4898 white wines, with 12 columns (11 physicochemical
properties and 1 quality rating).

```{r echo=FALSE, Univariate_Plots}
# Determine the structure of the dataset
str(df)
```

All of the 11 physicochemical properties are of the numeric type (contains 
decimals) while the quality values are integers. 

```{r echo=FALSE, Univariate_Plots}
# Provide a summary of the dataset
summary(df)
```

For all variables the median and the mean are close together suggesting that 
these parameters will not be highly skewed.  The median (5.2) and mean (6.3) of the
residual sugar variable are the farthest apart suggesting that there may be some
outliers on the high end (for example the max of 65.8).  It is surprising to observe 
a fold difference of over 100 between the minimum and maximum values for residual
sugar and free sulfur dioxide.  The alcohol content ranges from 8.0 - 14.2%. The scale 
for quality was 1-10; however, the ratings given only range from 3-9, with a median
rating of 6.

```{r echo=FALSE, Univariate_Plots}
# Plot a histogram of fixed acidity levels
ggplot(aes(x = fixed.acidity),
       data = df) +
  geom_histogram()
```

The histogram of fixed acidity appears to be normally distributed.

```{r echo=FALSE, Univariate_Plots}
# Plot a histogram of volatile acidity levels
ggplot(aes(x = volatile.acidity),
       data = df) +
  geom_histogram()
```

The histogram of volatile acidity is slightly knewed to the right.
I will log10 transform this data to see if it makes the histogram
normally distributed.

```{r echo=FALSE, Univariate_Plots}
# Plot a histogram of volatile acidity levels on log10 scale
ggplot(aes(x = volatile.acidity),
       data = df) +
  geom_histogram() +
  scale_x_log10()
```

Now volatile acidity is normally distributed.

```{r echo=FALSE, Univariate_Plots}
# Plot a histogram of citric acid levels
ggplot(aes(x = citric.acid),
       data = df) +
  geom_histogram()
```

The bulk of the data of citric acid is normally distributed with an outlier of 
1.66 pulling the skew to the right.

```{r echo=FALSE, Univariate_Plots}
# Plot a histogram of the citric acid levels excluding the top 1%
ggplot(aes(x = citric.acid),
       data = df) +
  geom_histogram() +
  xlim(0, quantile(df$citric.acid, probs = 0.99))
```

When the top 1% of citric acid data is removed the data appear normally distributed. 

```{r echo=FALSE, Univariate_Plots}
# Plot a histogram of residual sugar levels
ggplot(aes(x = residual.sugar),
       data = df) +
  geom_histogram()
```

The histogram of residual sugar is skewed to the right.  This graph has the bin
with the highest count near the left with a wide right tail and an outlier at 65.8.

```{r echo=FALSE, Univariate_Plots}
# Plot a histogram of residual sugar levels on a log10 scale
ggplot(aes(x = residual.sugar),
       data = df) +
  geom_histogram() +
  scale_x_log10()
```

Transforming the data using a log10 scale does not make the data normally
distributed, but but rather bimodal.

```{r echo=FALSE, Univariate_Plots}
# Plot a histogram of chloride levels
ggplot(aes(x = chlorides),
       data = df) +
  geom_histogram()
```

The histogram of chlorides is skewed to the right with a long thin tail.

```{r echo=FALSE, Univariate_Plots}
# Plot a histogram of chloride levels on a log10 scale
ggplot(aes(x = chlorides),
       data = df) +
  geom_histogram() +
  scale_x_log10()
```

Transforming the chlorides data uing log10 makes the data appear
more normally distributed.

```{r echo=FALSE, Univariate_Plots}
# Plot a histogram of free sulfur dioxide levels
ggplot(aes(x = free.sulfur.dioxide),
       data = df) +
  geom_histogram()
```

The hisogram of free sulfur dioxide levels appears to be slightly skewed
to the right with a very small and thin tail and an outlier  at 289.

```{r echo=FALSE, Univariate_Plots}
# Plot a histogram of free sulfur dioxide levels excluding the top 1%
ggplot(aes(x = free.sulfur.dioxide),
       data = df) +
  geom_histogram() +
  xlim(0, quantile(df$free.sulfur.dioxide, probs = 0.99))
```

When excluding the top 1% of free sulfur dioxide levels, the data appear more
symmetric, however, the data looks more like a pyramid instead of normally 
distributed.

```{r echo=FALSE, Univariate_Plots}
# Plot a histogram of total sulfur dioxide levels
ggplot(aes(x = total.sulfur.dioxide),
       data = df) +
  geom_histogram()
```

The histogram of total sulfur dioxide generally looks normally distributed
with an extremely thin right tail.

```{r echo=FALSE, Univariate_Plots}
# Plot a histogram of density levels
ggplot(aes(x = density),
       data = df) +
  geom_histogram()
```

The histogram of density appears to be normally distributed with a very
thin right tail and an outlier at 1.039.  The majority of densities are
close to but below 1 which makes sense given the density of water being 1
and alcohol being less than 1.  I'm unsure what would cause a wine to have
a density above 1.  I wanted to get a better look at the distribution by 
excluding the top 1% of density values in the graph below, but I am unsure
why the graph did not work.

```{r echo=FALSE, Univariate_Plots}
# Plot a histogram of density levels
ggplot(aes(x = density),
       data = df) +
  geom_histogram() +
  xlim(0, quantile(df$density, probs = 0.99))
```

```{r echo=FALSE, Univariate_Plots}
# Plot a histogram of pH levels
ggplot(aes(x = pH),
       data = df) +
  geom_histogram()
```

The histogram of pH appears to be normally distributed.

```{r echo=FALSE, Univariate_Plots}
# Plot a histogram of sulphate levels
ggplot(aes(x = sulphates),
       data = df) +
  geom_histogram()
```

The histogram of sulphates appears to be skewed to the right.

```{r echo=FALSE, Univariate_Plots}
# Plot a histogram of sulphate levels on a log10 scale
ggplot(aes(x = sulphates),
       data = df) +
  geom_histogram() +
  scale_x_log10()
```

Graphing sulphates on a log10 scale transforms the data to be normally 
distibuted.

```{r echo=FALSE, Univariate_Plots}
# Plot a histogram of alcohol levels
ggplot(aes(x = alcohol),
       data = df) +
  geom_histogram()
```

The histogram of alcohol levels is skewed to the right with a wide tail.

```{r echo=FALSE, Univariate_Plots}
# Plot a histogram of alcohol levels on a log10 scale
ggplot(aes(x = alcohol),
       data = df) +
  geom_histogram() +
  scale_x_log10()
```

Graphing the alcohol data on a log10 scale makes the data more symmetric 
but does not appear truely normally distributed as the peak of the data
is wide.

```{r echo=FALSE, Univariate_Plots}
# Plot a histogram of quality levels
ggplot(aes(x = quality),
       data = df) +
  geom_histogram(binwidth = 1) +
  scale_x_continuous(breaks = seq(3, 9, 1))
```
The quality rating with the highest count is 6 and is largely symmetric as 
ratings of 3 and 9 are very low, and ratings of 0, 1, 2 and 10 are absent.

> **Tip**: Make sure that you leave a blank line between the start / end of
each code block and the end / start of your Markdown text so that it is
formatted nicely in the knitted text. Note as well that text on consecutive
lines is treated as a single space. Make sure you have a blank line between
your paragraphs so that they too are formatted for easy readability.

# Univariate Analysis

> **Tip**: Now that you've completed your univariate explorations, it's time to
reflect on and summarize what you've found. Use the questions below to help you
gather your observations and add your own if you have other thoughts!

### What is the structure of your dataset?
The dataset contains data on 4898 white wines with 12 columns 
(11 physicochemical properties and 1 quality rating). All of the 
11 physicochemical properties are of the numeric type (contains 
decimals) while the quality values are integers. 

### What is/are the main feature(s) of interest in your dataset?
I would like to investigate which physicochemical properties of the wine 
influence the quality rating therefore the quality rating is the most 
important feature in this data.  

### What other features in the dataset do you think will help support your \
investigation into your feature(s) of interest?
I will investigate all 11 properties of the wines to determine whether they
influence quality.  Given my limited knowledge of wine and these specific
physicochemical properties, I cannot predict which features will affect
quality.  In addition, the univariate analyses alone does not shed light
on which variables will be the most important therefore I will investigate
them all in the bivariate section.

### Did you create any new variables from existing variables in the dataset?
I have not created any new variables yet.  This may change after further 
investigation into the bi- and multi-variate analyses.

### Of the features you investigated, were there any unusual distributions? \
Did you perform any operations on the data to tidy, adjust, or change the form \
of the data? If so, why did you do this?
The data was already tidy therefore no adjustments were made.


# Bivariate Plots Section

> **Tip**: Based on what you saw in the univariate plots, what relationships
between variables might be interesting to look at in this section? Don't limit
yourself to relationships between a main output feature and one of the
supporting variables. Try to look at relationships between supporting variables
as well.

```{r echo=FALSE, Bivariate_Plots}

```

# Bivariate Analysis

> **Tip**: As before, summarize what you found in your bivariate explorations
here. Use the questions below to guide your discussion.

### Talk about some of the relationships you observed in this part of the \
investigation. How did the feature(s) of interest vary with other features in \
the dataset?

### Did you observe any interesting relationships between the other features \
(not the main feature(s) of interest)?

### What was the strongest relationship you found?


# Multivariate Plots Section

> **Tip**: Now it's time to put everything together. Based on what you found in
the bivariate plots section, create a few multivariate plots to investigate
more complex interactions between variables. Make sure that the plots that you
create here are justified by the plots you explored in the previous section. If
you plan on creating any mathematical models, this is the section where you
will do that.

```{r echo=FALSE, Multivariate_Plots}

```

# Multivariate Analysis

### Talk about some of the relationships you observed in this part of the \
investigation. Were there features that strengthened each other in terms of \
looking at your feature(s) of interest?

### Were there any interesting or surprising interactions between features?

### OPTIONAL: Did you create any models with your dataset? Discuss the \
strengths and limitations of your model.

------

# Final Plots and Summary

> **Tip**: You've done a lot of exploration and have built up an understanding
of the structure of and relationships between the variables in your dataset.
Here, you will select three plots from all of your previous exploration to
present here as a summary of some of your most interesting findings. Make sure
that you have refined your selected plots for good titling, axis labels (with
units), and good aesthetic choices (e.g. color, transparency). After each plot,
make sure you justify why you chose each plot by describing what it shows.

### Plot One
```{r echo=FALSE, Plot_One}

```

### Description One


### Plot Two
```{r echo=FALSE, Plot_Two}

```

### Description Two


### Plot Three
```{r echo=FALSE, Plot_Three}

```

### Description Three

------

# Reflection

> **Tip**: Here's the final step! Reflect on the exploration you performed and
the insights you found. What were some of the struggles that you went through?
What went well? What was surprising? Make sure you include an insight into
future work that could be done with the dataset.

Plotting all the histograms in the univariate plots was tedious, boring, and not 
very informative since it is not very intuitive what all the variables themselves
mean, or the significance of the values.

> **Tip**: Don't forget to remove this, and the other **Tip** sections before
saving your final work and knitting the final report!

# Resources

https://stackoverflow.com/questions/6286313/remove-an-entire-column-from-a-data-frame-in-r
https://www.sciencedirect.com/science/article/pii/S0167923609001377
https://s3.amazonaws.com/udacity-hosted-downloads/ud651/wineQualityInfo.txt 
https://s3.amazonaws.com/content.udacity-data.com/courses/ud651/diamondsExample_2016-05.html
